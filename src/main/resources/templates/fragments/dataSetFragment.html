<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
     <div class="M-4 p-4" id="dataSetFragment" th:fragment="dataSetFragment" style="font-size:13px;">
      <div class="form-row pt-2 pb-2 mb-2" id="assetDetailsFragment">
      
     <div class="col-lg-12 col-md-12 col-sm-12 float-right" th:if="${returnToSearch eq true}">
       <div class="controls controls-row mt-4">
         <a class="float-left mb-2 mr-2" id="backtoSearch"><img src="images/BackSearch-icon.png" data-toggle="tooltip" title="Back to Search Results"
         th:src="@{/images/BackSearch-icon.png}" style="width:50px;" alt="back to search">
         &nbsp;&nbsp;<span class="backToSearch">Back to Search Results</span></a>         
       </div>
     </div>
     <input type="hidden" th:value="${assetPath}" id="assetPath"/>
     <input type="hidden" th:value="${accessGrp}" id="assetAccessGrp"/>
     <input type="hidden" th:value="${assetPermission}" id="assetPermission"/>
      <input type="hidden" th:value="${asset_Identifier}" id="assetIdentifier"/>
      
     <div class="col-lg-12 col-md-12 col-sm-12" style="margin-top: 20px;border-bottom: 4px solid #194F85;">
        <h4 class="datasetDetailsheader">Asset Details</h4>
     </div>
     
    <br/>
    <br/>
    
    <div class="form-row col-lg-12 col-md-12 col-sm-12" style="padding:2rem 2rem;border-bottom: 2px solid #194F85;">
      <div class="col-md-12 col-sm-12" style="color: #000000;font-family: 'latoregular';font-size: 13px;margin-left: -19px;">
      <table id="assetDetailsDiv" class="table display dt-responsive wrap" style="border: none;background-color: transparent;">
        <tbody style="background-color: transparent;">
            <tr><td style="font-weight: lighter;width: 15%;">PROGRAM NAME: </td>
                <td style="font-weight:bold;" id="selectedProgramName" th:text="${progName}"></td></tr>
             <tr><td style="font-weight: lighter;width: 15%;">STUDY NAME:</td>
             <td style="font-weight:bold;" id="selectedStudyName" th:text="${studyName}"></td></tr>
             <tr><td style="font-weight: lighter;width: 15%;">ASSET NAME:</td>
             <td style="font-weight:bold;" id="selectedDataSetName" th:text="${assetName}"></td></tr>
             <tr><td style="font-weight: lighter;width: 15%;">ASSET PATH:</td>
             <td style="font-weight:bold;" id="selectedAssetPath" th:text="${assetPath}"></td></tr>
             <tr><td style="font-weight: lighter;width: 15%;">SHARABLE LINK:</td>
             <td style="font-weight:bold;">
             <span th:text="${assetLink}" id="assetUrlLink"></span>
             <button type="button" class="share-assetLink-copy-button" data-toggle="tooltip"
             data-placement="bottom" title="" data-clipboard-target="#assetUrlLink" 
             data-original-title="Copy to clipboard">
             <img src="images/clippy.svg" width="13" alt="Copy to clipboard"></button>
             </td></tr>
        </tbody>
     </table>
      </div>
    </div>
    
   <button type="button" class="float-left btn asset-attributes" data-toggle="collapse" 
       data-target="#dataSetMetaData">
       <img src="images/arrow.collapse-open.svg" th:src="@{/images/arrow.collapse-open.svg}" style="width:14px;" alt="asset attributes">
       <strong>&nbsp;&nbsp;Asset Attributes</strong>
   </button>
              
    <table id="dataSetMetaData" class="table display dt-responsive wrap">
        <thead>
			<tr>
               <th aria-sort="none" class="sortable" data-sort="text" role="columnheader" scope="col" style="width:26%;">&nbsp;&nbsp;ATTRIBUTE</th>
               <th aria-sort="none" class="sortable" data-sort="text" role="columnheader" scope="col">VALUE</th>
            </tr>
        </thead>
        <tbody>     
         <tr th:each="metadata : ${assetMetadata}">
            <td th:text="${metadata.displayName}"></td>
            <td th:if="${#strings.startsWith(metadata.value, 'https') OR #strings.startsWith(metadata.value, 'http')}">
            <a target="_blank" th:href="${metadata.value}"><span th:text="${metadata.value}"></span></a></td>
            <td th:unless="${#strings.startsWith(metadata.value, 'https') OR #strings.startsWith(metadata.value, 'http')}" 
            th:text="${metadata.value}"></td>
        </tr>                
        </tbody>
     </table> 

                    
    <div class="col-lg-12 col-md-12 col-sm-12 float-right" style="border-top: 2px solid #194F85;">
       <div class="controls controls-row mt-4">
       <p class="assetFilesheader">Asset Files</p>
       
       <p th:if= "${loggedOnUser == null}" class="infoDownload">
       <i class="fas fa-info-circle"></i> To download files, <a th:href="@{/loginTab}">log in.</a></p>
       
       <button id="downloadSelectedMetadata" type="button" class="btn btn-primary float-right mb-2 mr-2"
        disabled>Download Selected Metadata</button>
       <button id="downloadSelectedDataSet" type="button" class="btn btn-primary float-right mb-2 mr-2" 
       disabled>Download <br/>Selected Files</button>
       </div>
    </div>
    
     <table id="dataSetTable" class="col-lg-12 col-md-12 col-sm-12 table display dt-responsive wrap"  role="grid" style="width:100%;" aria-label="data set table">
         <thead>
		   <tr>
			 <th aria-sort="none" class="sortable" aria-label="select all checkbox" role="columnheader" scope="colgroup">
			 <label style="color: rgba(255,255,255,0.66) !important;" class="select-checkbox-label">
			 <input type="checkbox" class="selectAll">&nbsp;&nbsp;BATCH SELECT</label></th>
             <th aria-sort="none" class="sortable" data-sort="text" role="columnheader" scope="colgroup">FILE NAME</th>
             <th aria-sort="none" class="sortable" data-sort="text" role="columnheader" scope="colgroup">FILE SIZE</th>
             <th aria-sort="none" class="sortable" data-sort="text" role="columnheader" scope="colgroup">ACTIONS</th>
           </tr>
         </thead>
         <tbody>
         </tbody>
      </table>                
   </div>
   <div th:replace="fragments/editCollectionFragment :: editCollectionFragment"></div>
   </div>
   </body>
   </html>
    